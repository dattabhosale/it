<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LeapReplica - Electric Vehicles</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>

<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="/" class="brand">LeapReplica</a>
      <nav class="site-nav" id="site-nav">
        <a href="index.html">Home</a>
        <a href="products.html">Products</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
      </nav>
      <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation">☰</button>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-copy">
          <h1>Electric mobility, designed for the future.</h1>
          <p>Explore a new generation of electric vehicles with long range, smart features, and bold design.</p>
          <p><a class="btn" href="products.html">View Models</a></p>
        </div>
        <div class="hero-media">
          <img src="assets/car-hero.jpg" alt="Electric car mockup">
        </div>
      </div>
    </section>

    <section class="highlights">
      <div class="container">
        <h2>Featured Models</h2>
        <div class="cards">
          <article class="card">
            <img src="assets/model-a.jpg" alt="Model A">
            <h3>Model A</h3>
            <p>Long range, fast charging, advanced driver assistance.</p>
            <p><a class="link" href="products.html">Learn more</a></p>
          </article>

          <article class="card">
            <img src="assets/model-b.jpg" alt="Model B">
            <h3>Model B</h3>
            <p>Urban performance with compact design and premium interior.</p>
            <p><a class="link" href="products.html">Learn more</a></p>
          </article>

          <article class="card">
            <img src="assets/model-c.jpg" alt="Model C">
            <h3>Model C</h3>
            <p>An intelligent SUV with family-friendly range and space.</p>
            <p><a class="link" href="products.html">Learn more</a></p>
          </article>
        </div>
      </div>
    </section>

    <section class="about-teaser">
      <div class="container">
        <h2>Our Vision</h2>
        <p>We build electric vehicles that are safe, sustainable and delightful to drive. Technology and design come
          together to make mobility more efficient and enjoyable.</p>
        <p><a class="btn ghost" href="about.html">Learn about us</a></p>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div>© 2025 LeapReplica</div>
      <nav class="foot-nav">
        <a href="privacy.html">Privacy</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </footer>

	<script type='text/javascript'>
    function initEmbeddedMessaging() {
      try {
        embeddedservice_bootstrap.settings.language = 'es';
        embeddedservice_bootstrap.settings.displayHelpButton = true;
        embeddedservice_bootstrap.settings.defaultMinimizedText = "Chat with Leappy";
        embeddedservice_bootstrap.settings.disabledMinimizedText = "Leappy Offline";
        
        window.addEventListener("onEmbeddedMessagingReady", () => {
          embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields({
            Country: 'Spain',
            Language: 'es',
            CountryCode:'es'
          });
        });
        embeddedservice_bootstrap.init(
          '00DMA000003XnGM',
          'LPM_Leapmotor',
          'https://leapmotor--dev01.sandbox.my.site.com/ESWLPMLeapmotor1760706603231',
          {
            scrt2URL: 'https://leapmotor--dev01.sandbox.my.salesforce-scrt.com'
          }
        );
      } catch (err) {
        console.error('Error loading Embedded Messaging: ', err);
      }
    };
	(function () {
  console.log("Persistent Christmas Button");
 
  const messages = [
    "Chat with us!",
    "Need Help?",
    "Talk to us!",
    "Get Support!",
    "We're here!"
  ];
  
  let currentIndex = 0;
  let carouselTimer = null;
  let keepAliveTimer = null;
  let chatIsOpen = false;
  function ensureButtonExists() {
    // Don't show button if chat is open
    if (chatIsOpen) return;
    
    let btn = document.getElementById("xmas-btn");
    
    // If button exists and is visible, we're good
    if (btn && btn.style.display !== "none") {
      return;
    }
    
    // If button exists but hidden, show it
    if (btn) {
      console.log("Button exists but hidden, showing it");
      btn.style.display = "block";
      btn.style.visibility = "visible";
      btn.style.opacity = "1";
      return;
    }
    
    // Create new button
    console.log("Creating new button");
    
    btn = document.createElement("button");
    btn.id = "xmas-btn";
    btn.textContent = messages[currentIndex];
    
    // Inline styles with !important to prevent overrides
    btn.setAttribute("style", `
      position: fixed !important;
      right: 20px !important;
      bottom: 20px !important;
      z-index: 999999 !important;
      min-width: 200px !important;
      min-height: 70px !important;
      padding: 15px 25px !important;
      font-size: 18px !important;
      font-weight: bold !important;
      color: white !important;
      background: linear-gradient(135deg, #dc2626, #16a34a) !important;
      border: 3px solid gold !important;
      border-radius: 40px !important;
      cursor: pointer !important;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3) !important;
      transition: all 0.3s ease !important;
      font-family: Arial, sans-serif !important;
      display: block !important;
      visibility: visible !important;
      opacity: 1 !important;
    `);
    
    // Hover effects
    btn.addEventListener("mouseenter", function() {
      this.style.transform = "scale(1.1)";
    });
    
    btn.addEventListener("mouseleave", function() {
      this.style.transform = "scale(1)";
    });
    
    // Click handler
    btn.addEventListener("click", function() {
      console.log("Button clicked");
      chatIsOpen = true;
      if (window.embeddedservice_bootstrap && 
          window.embeddedservice_bootstrap.utilAPI && 
          window.embeddedservice_bootstrap.utilAPI.launchChat) {
        window.embeddedservice_bootstrap.utilAPI.launchChat();
      }
    });
    
    document.body.appendChild(btn);
    console.log("Button created and added");
  }
  function updateCarousel() {
    const btn = document.getElementById("xmas-btn");
    if (!btn || chatIsOpen) return;
    
    // Fade effect
    btn.style.opacity = "0.5";
    
    setTimeout(function() {
      currentIndex = (currentIndex + 1) % messages.length;
      btn.textContent = messages[currentIndex];
      btn.style.opacity = "1";
    }, 200);
  }
  function startCarousel() {
    if (carouselTimer) clearInterval(carouselTimer);
    carouselTimer = setInterval(updateCarousel, 2500);
    console.log("Carousel started");
  }
  function startKeepAlive() {
    if (keepAliveTimer) clearInterval(keepAliveTimer);
    // Check every 500ms if button still exists
    keepAliveTimer = setInterval(ensureButtonExists, 500);
    console.log("Keep-alive started");
  }
  // Event listeners
  window.addEventListener("onEmbeddedMessagingWindowMaximized", function() {
    console.log("Chat opened");
    chatIsOpen = true;
    const btn = document.getElementById("xmas-btn");
    if (btn) btn.style.display = "none";
  });
  window.addEventListener("onEmbeddedMessagingWindowMinimized", function() {
    console.log("Chat closed");
    chatIsOpen = false;
    ensureButtonExists();
  });
  // Initialize
  function init() {
    console.log("Initializing button system");
    ensureButtonExists();
    startCarousel();
    startKeepAlive();
  }
  // Start immediately
  init();
  
  // Also start after delays
  setTimeout(init, 1000);
  setTimeout(init, 2000);
  
})();
  </script>
  <script type='text/javascript'
    src='https://leapmotor--dev01.sandbox.my.site.com/ESWLPMLeapmotor1760706603231/assets/js/bootstrap.min.js'
    onload='initEmbeddedMessaging()'></script>

	
</body>

</html>
