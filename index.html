<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LeapReplica - Electric Vehicles</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>

<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="/" class="brand">LeapReplica</a>
      <nav class="site-nav" id="site-nav">
        <a href="index.html">Home</a>
        <a href="products.html">Products</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
      </nav>
      <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation">‚ò∞</button>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-copy">
          <h1>Electric mobility, designed for the future.</h1>
          <p>Explore a new generation of electric vehicles with long range, smart features, and bold design.</p>
          <p><a class="btn" href="products.html">View Models</a></p>
        </div>
        <div class="hero-media">
          <img src="assets/car-hero.jpg" alt="Electric car mockup">
        </div>
      </div>
    </section>

    <section class="highlights">
      <div class="container">
        <h2>Featured Models</h2>
        <div class="cards">
          <article class="card">
            <img src="assets/model-a.jpg" alt="Model A">
            <h3>Model A</h3>
            <p>Long range, fast charging, advanced driver assistance.</p>
            <p><a class="link" href="products.html">Learn more</a></p>
          </article>

          <article class="card">
            <img src="assets/model-b.jpg" alt="Model B">
            <h3>Model B</h3>
            <p>Urban performance with compact design and premium interior.</p>
            <p><a class="link" href="products.html">Learn more</a></p>
          </article>

          <article class="card">
            <img src="assets/model-c.jpg" alt="Model C">
            <h3>Model C</h3>
            <p>An intelligent SUV with family-friendly range and space.</p>
            <p><a class="link" href="products.html">Learn more</a></p>
          </article>
        </div>
      </div>
    </section>

    <section class="about-teaser">
      <div class="container">
        <h2>Our Vision</h2>
        <p>We build electric vehicles that are safe, sustainable and delightful to drive. Technology and design come
          together to make mobility more efficient and enjoyable.</p>
        <p><a class="btn ghost" href="about.html">Learn about us</a></p>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div>¬© 2025 LeapReplica</div>
      <nav class="foot-nav">
        <a href="privacy.html">Privacy</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </footer>

  <script type='text/javascript'>
    function initEmbeddedMessaging() {
      try {
        embeddedservice_bootstrap.settings.language = 'es';
        embeddedservice_bootstrap.settings.displayHelpButton = false;
        embeddedservice_bootstrap.settings.defaultMinimizedText = "Chat with Leappy";
        embeddedservice_bootstrap.settings.disabledMinimizedText = "Leappy Offline";
        
        window.addEventListener("onEmbeddedMessagingReady", () => {
          embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields({
            Country: 'Spain',
            Language: 'es',
            CountryCode:'es'
          });
        });
        
        embeddedservice_bootstrap.init(
          '00DMA000003XnGM',
          'LPM_Leapmotor',
          'https://leapmotor--dev01.sandbox.my.site.com/ESWLPMLeapmotor1760706603231',
          {
            scrt2URL: 'https://leapmotor--dev01.sandbox.my.salesforce-scrt.com'
          }
        );
      } catch (err) {
        console.error('Error loading Embedded Messaging: ', err);
      }
    };
</script>
<script type='text/javascript'>
(function () {
  console.log("üéÑ Christmas Chat Button - Premium Design");
 
  var carouselMessages = [
    "üéÑ Ho Ho Ho! Chat with us! üéÖ",
    "‚ùÑÔ∏è Merry Chatmas! We're here! ‚òÉÔ∏è",
    "üéÅ Unwrap Support! Click here! üéÄ",
    "‚≠ê Holiday Help Available! ‚ú®",
    "üîî Jingle all the way to chat! üéÑ"
  ];
  var currentMessageIndex = 0;
  var carouselInterval = null;
  var chatIsOpen = false;
  var buttonElement = null;
  // Inject premium CSS
  (function injectCSS() {
    var style = document.createElement("style");
    style.id = "christmas-chat-premium-styles";
    style.textContent = `
      /* Hide ALL Salesforce standard buttons aggressively */
      .embeddedMessagingFrame,
      .embeddedMessagingConversationButton,
      .embeddedServiceHelpButton,
      .embeddedServiceSidebar,
      .helpButtonEnabled,
      .uiButton,
      button[aria-label*="Chat"]:not(#christmas-chat-btn),
      button[class*="embeddedMessaging"]:not(#christmas-chat-btn),
      button[class*="embeddedService"]:not(#christmas-chat-btn),
      div[class*="embeddedMessagingConversationButton"],
      div[class*="embeddedServiceHelpButton"] {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
        position: absolute !important;
        left: -99999px !important;
      }
      
      /* Premium Chat Button Container */
      #christmas-chat-container {
        position: fixed;
        right: 30px;
        bottom: 30px;
        z-index: 2147483647;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      }
      
      #christmas-chat-container.hidden {
        display: none !important;
      }
      
      /* Large Pill-Shaped Button */
      #christmas-chat-btn {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 18px 32px;
        background: linear-gradient(135deg, #c41e3a 0%, #165b33 50%, #c41e3a 100%);
        background-size: 200% 100%;
        border: none;
        border-radius: 50px;
        box-shadow: 0 10px 40px rgba(196, 30, 58, 0.6);
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        min-width: 280px;
      }
      
      #christmas-chat-btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 100%);
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      
      #christmas-chat-btn:hover::before {
        opacity: 1;
      }
      
      #christmas-chat-btn:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 15px 50px rgba(196, 30, 58, 0.8);
        background-position: 100% 0;
      }
      
      #christmas-chat-btn:active {
        transform: translateY(-2px) scale(1.02);
      }
      
      /* Chat Icon */
      .chat-icon {
        width: 36px;
        height: 36px;
        flex-shrink: 0;
        filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
      }
      
      /* Text Content */
      .chat-text-wrapper {
        flex: 1;
        overflow: hidden;
        position: relative;
        height: 24px;
      }
      
      .chat-text {
        color: white;
        font-size: 17px;
        font-weight: 700;
        text-align: left;
        white-space: nowrap;
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        animation: fadeIn 0.5s ease;
      }
      
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      /* Pulse Animation */
      @keyframes pulse {
        0%, 100% { 
          box-shadow: 0 10px 40px rgba(196, 30, 58, 0.6);
        }
        50% { 
          box-shadow: 0 10px 40px rgba(196, 30, 58, 0.9), 0 0 0 10px rgba(196, 30, 58, 0.2);
        }
      }
      
      #christmas-chat-btn {
        animation: pulse 2.5s infinite;
      }
      
      /* Sparkle Effect */
      @keyframes sparkle {
        0%, 100% { opacity: 0; transform: scale(0); }
        50% { opacity: 1; transform: scale(1); }
      }
      
      .sparkle {
        position: absolute;
        width: 8px;
        height: 8px;
        background: white;
        border-radius: 50%;
        pointer-events: none;
        animation: sparkle 1.5s infinite;
      }
      
      .sparkle:nth-child(1) { top: 20%; left: 20%; animation-delay: 0s; }
      .sparkle:nth-child(2) { top: 40%; right: 30%; animation-delay: 0.5s; }
      .sparkle:nth-child(3) { bottom: 30%; left: 40%; animation-delay: 1s; }
    `;
    document.head.appendChild(style);
    console.log("‚úÖ Premium CSS loaded");
  })();
  function hideStandardButtons() {
    try {
      var es = window.embeddedservice_bootstrap;
      if (es && es.utilAPI && typeof es.utilAPI.hideChatButton === "function") {
        es.utilAPI.hideChatButton();
      }
    } catch (e) {}
  }
 
  function startCarousel() {
    if (carouselInterval) return; // Don't start if already running
    
    carouselInterval = setInterval(function() {
      var textEl = document.getElementById('chat-text-content');
      if (!textEl) {
        stopCarousel();
        return;
      }
      
      currentMessageIndex = (currentMessageIndex + 1) % carouselMessages.length;
      
      // Fade out
      textEl.style.opacity = '0';
      textEl.style.transform = 'translateY(-10px)';
      
      setTimeout(function() {
        textEl.textContent = carouselMessages[currentMessageIndex];
        textEl.style.opacity = '1';
        textEl.style.transform = 'translateY(0)';
      }, 200);
      
    }, 3500);
  }
  
  function stopCarousel() {
    if (carouselInterval) {
      clearInterval(carouselInterval);
      carouselInterval = null;
    }
  }
 
  function createPremiumButton() {
    // Check if already exists
    if (document.getElementById('christmas-chat-container')) {
      console.log("Button already exists");
      return;
    }
    
    // Container
    var container = document.createElement("div");
    container.id = "christmas-chat-container";
    
    // Button
    var btn = document.createElement("button");
    btn.id = "christmas-chat-btn";
    btn.setAttribute("aria-label", "Open Christmas Chat");
    
    // Chat Icon SVG
    var iconHTML = `
      <svg class="chat-icon" viewBox="0 0 24 24" fill="none">
        <path d="M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z" 
              fill="white" stroke="white" stroke-width="1.5"/>
        <circle cx="8" cy="10" r="1.5" fill="#c41e3a"/>
        <circle cx="12" cy="10" r="1.5" fill="#c41e3a"/>
        <circle cx="16" cy="10" r="1.5" fill="#c41e3a"/>
      </svg>
    `;
    
    // Text wrapper
    var textWrapper = document.createElement("div");
    textWrapper.className = "chat-text-wrapper";
    
    var textSpan = document.createElement("span");
    textSpan.id = "chat-text-content";
    textSpan.className = "chat-text";
    textSpan.textContent = carouselMessages[0];
    textSpan.style.transition = 'all 0.3s ease';
    
    textWrapper.appendChild(textSpan);
    
    // Sparkles
    var sparkles = '<span class="sparkle"></span><span class="sparkle"></span><span class="sparkle"></span>';
    
    btn.innerHTML = iconHTML + sparkles;
    btn.appendChild(textWrapper);
    
    // Click handler - COMPREHENSIVE DEBUG VERSION
    btn.addEventListener("click", function(e) {
      e.preventDefault();
      e.stopPropagation();
      console.log("=".repeat(50));
      console.log("üéÖ CHAT BUTTON CLICKED!");
      console.log("=".repeat(50));
      
      var es = window.embeddedservice_bootstrap;
      
      // Debug: Check what's available
      console.log("1. Checking embeddedservice_bootstrap:", es ? "EXISTS" : "NULL");
      
      if (!es) {
        console.error("‚ùå embeddedservice_bootstrap is not defined!");
        console.log("Window properties:", Object.keys(window).filter(k => k.includes('embed') || k.includes('service')));
        return;
      }
      
      console.log("2. Bootstrap object keys:", Object.keys(es));
      console.log("3. Checking utilAPI:", es.utilAPI ? "EXISTS" : "NULL");
      
      if (!es.utilAPI) {
        console.error("‚ùå utilAPI is not available!");
        console.log("Available properties on bootstrap:", Object.keys(es));
        return;
      }
      
      console.log("4. utilAPI methods:", Object.keys(es.utilAPI));
      
      // Try multiple methods to launch chat
      var launched = false;
      
      // Method 1: launchChat
      if (typeof es.utilAPI.launchChat === "function") {
        console.log("5. Trying Method 1: utilAPI.launchChat()");
        try {
          var result = es.utilAPI.launchChat();
          console.log("   launchChat returned:", result);
          
          if (result && typeof result.then === "function") {
            result.then(function() {
              console.log("   ‚úÖ Promise resolved - Chat launched!");
              chatIsOpen = true;
            }).catch(function(err) {
              console.error("   ‚ùå Promise rejected:", err);
            });
          } else {
            console.log("   ‚úÖ Chat launch called (no promise)");
            chatIsOpen = true;
          }
          launched = true;
        } catch (err) {
          console.error("   ‚ùå Exception:", err);
        }
      } else {
        console.warn("   ‚ö†Ô∏è launchChat not available");
      }
      
      // Method 2: maximizeWindow
      if (!launched && typeof es.utilAPI.maximizeWindow === "function") {
        console.log("6. Trying Method 2: utilAPI.maximizeWindow()");
        try {
          es.utilAPI.maximizeWindow();
          console.log("   ‚úÖ maximizeWindow called");
          launched = true;
          chatIsOpen = true;
        } catch (err) {
          console.error("   ‚ùå Exception:", err);
        }
      }
      
      // Method 3: openChat
      if (!launched && typeof es.utilAPI.openChat === "function") {
        console.log("7. Trying Method 3: utilAPI.openChat()");
        try {
          es.utilAPI.openChat();
          console.log("   ‚úÖ openChat called");
          launched = true;
          chatIsOpen = true;
        } catch (err) {
          console.error("   ‚ùå Exception:", err);
        }
      }
      
      // Method 4: Check for other methods
      if (!launched) {
        console.log("8. Looking for alternative methods...");
        var possibleMethods = Object.keys(es.utilAPI).filter(function(key) {
          return typeof es.utilAPI[key] === 'function' && 
                 (key.toLowerCase().includes('launch') || 
                  key.toLowerCase().includes('open') || 
                  key.toLowerCase().includes('show') ||
                  key.toLowerCase().includes('maximize'));
        });
        console.log("   Possible methods found:", possibleMethods);
        
        if (possibleMethods.length > 0) {
          var method = possibleMethods[0];
          console.log("   Trying:", method);
          try {
            es.utilAPI[method]();
            console.log("   ‚úÖ", method, "called");
            launched = true;
            chatIsOpen = true;
          } catch (err) {
            console.error("   ‚ùå Exception:", err);
          }
        }
      }
      
      if (!launched) {
        console.error("‚ùå FAILED TO LAUNCH CHAT - No working method found!");
        console.log("Please check Salesforce Embedded Messaging configuration.");
      }
      
      console.log("=".repeat(50));
    });
    
    container.appendChild(btn);
    document.body.appendChild(container);
    buttonElement = btn;
    
    console.log("‚úÖ Premium button created");
    
    // Start carousel
    setTimeout(function() {
      startCarousel();
    }, 1000);
  }
  
  function showButton() {
    chatIsOpen = false;
    var container = document.getElementById('christmas-chat-container');
    if (container) {
      container.classList.remove('hidden');
      if (!carouselInterval) {
        startCarousel();
      }
    }
  }
 
  function hideButton() {
    chatIsOpen = true;
    stopCarousel();
    var container = document.getElementById('christmas-chat-container');
    if (container) {
      container.classList.add('hidden');
    }
  }
 
  // Event listeners for Salesforce
  window.addEventListener("onEmbeddedMessagingReady", function() {
    console.log("üì¢ Messaging Ready");
    hideStandardButtons();
    setTimeout(createPremiumButton, 100);
  });
  
  window.addEventListener("onEmbeddedMessagingButtonCreated", function() {
    console.log("üì¢ Standard Button Created - Hiding it");
    hideStandardButtons();
  });
  
  window.addEventListener("onEmbeddedMessagingWindowMaximized", function() {
    console.log("üì¢ Chat Window Maximized");
    hideButton();
  });
  
  window.addEventListener("onEmbeddedMessagingWindowMinimized", function() {
    console.log("üì¢ Chat Window Minimized");
    showButton();
  });
 
  // Initialize button
  setTimeout(function() {
    console.log("Creating button...");
    createPremiumButton();
    hideStandardButtons();
  }, 800);
  
  // Keep button visible and hide standard buttons
  setInterval(function() {
    hideStandardButtons();
    
    // Ensure button exists and is visible when chat is not open
    if (!chatIsOpen) {
      var container = document.getElementById('christmas-chat-container');
      if (!container) {
        console.log("üîß Button missing, recreating...");
        createPremiumButton();
      } else if (container.classList.contains('hidden')) {
        console.log("üîß Button was hidden, showing it...");
        container.classList.remove('hidden');
        if (!carouselInterval) {
          startCarousel();
        }
      }
    }
  }, 2000);
  
  console.log("‚úÖ Premium Christmas chat initialized!");
})();
</script>
<script type='text/javascript'
  src='https://leapmotor--dev01.sandbox.my.site.com/ESWLPMLeapmotor1760706603231/assets/js/bootstrap.min.js'
  onload='initEmbeddedMessaging()'></script>

</body>

</html>
